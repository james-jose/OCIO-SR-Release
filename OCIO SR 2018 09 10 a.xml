<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2018-09-10 19:55:51">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description>This merged update set include:
 - JIRA SB-317 Update Sets: OCIO SR SDU Notification Email to Assignee Business rule JIRA 317 and OCIO SR SDU Notification Email to Assignee JIRA 317.)
 - JIRA SB-386 Update Set: OCIO SR SDU Notification Email to assignment group JIRA 386.
 - JIRA SB-645 Update Set: OCIO SR Change Account - Catalog Item SB645 v04.
 - JIRA SB-688 Update Set: OCIO SR SB-688 Close_Notes-v01.
 - JIRA SB-696 Update Set: OCIO SR Update Contact Information - Catalog Item  SB696  v06.
 - JIRA SB-733 Update Set: OCIO SR One Step checkout System Properties SB733.
 - JIRA SB-735 Update Set: OCIO SR Training Videos Knowledge Category SB735.</description>
<inserted/>
<name>OCIO SR 2018 09 10 a</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>f3e83118db686740fe199236db9619e2</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>899bc2d8dba86740fe199236db9619d5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_data_policy2_cece4f834f102300dc6922788310c7fe</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_data_policy2"><sys_data_policy2 action="INSERT_OR_UPDATE"><active>true</active><apply_import_set>true</apply_import_set><apply_soap>true</apply_soap><conditions table="sc_task">state=4^EQ<item endquery="false" field="state" goto="false" newquery="false" operator="=" or="false" value="4"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></conditions><description/><enforce_ui>true</enforce_ui><inherit>false</inherit><model_id/><model_table>sc_task</model_table><reverse_if_false>true</reverse_if_false><short_description>Make Close notes mandatory </short_description><sys_class_name>sys_data_policy2</sys_class_name><sys_created_by>mkuriako</sys_created_by><sys_created_on>2018-09-07 03:37:04</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>cece4f834f102300dc6922788310c7fe</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Make Close notes mandatory </sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_data_policy2_cece4f834f102300dc6922788310c7fe</sys_update_name><sys_updated_by>mkuriako</sys_updated_by><sys_updated_on>2018-09-07 03:37:04</sys_updated_on></sys_data_policy2></record_update>]]></payload>
<payload_hash>-1034706381</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>019b8ad8dba86740fe199236db9619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165b22ed17b0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Make Close notes mandatory </target_name>
<type>Data Policy</type>
<update_domain>global</update_domain>
<update_guid>8ace8f83f1102300b77f1ae771c29e00</update_guid>
<update_guid_history>8ace8f83f1102300b77f1ae771c29e00:-1034706381</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_c101f2a5db1f13003d1dd001cf9619a8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="DELETE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions&gt;IO:6801f2a5db1f13003d1dd001cf96192a!=u_place_hold^IO:6801f2a5db1f13003d1dd001cf96192a!=u_remove_hold^EQ&lt;/catalog_conditions&gt;&lt;catalog_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;500&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Hide Effective Date&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:20&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;c101f2a5db1f13003d1dd001cf9619a8&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Hide Effective Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_c101f2a5db1f13003d1dd001cf9619a8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 21:54:58&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1655328268</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>059b8ad8dba86740fe199236db9619e4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64da0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Hide Effective Date</target_name>
<type>Catalog UI Policy</type>
<update_domain>global</update_domain>
<update_guid>8dedb02cf0d023008c18586e994d2a4b</update_guid>
<update_guid_history>8dedb02cf0d023008c18586e994d2a4b:-1655328268,c9c3f46480d02300240e651def65b2e7:1663263080,7dc2c0f9315f130010d55d8eb48a96ea:421492867,c901f2a5ca1f1300f109670b26e9b8a9:-64710457</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_action_c501f2a5db1f13003d1dd001cf9619aa</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="DELETE"><catalog_item display_value="Change Account">d401be25db1f13003d1dd001cf9619a2</catalog_item><catalog_variable>IO:e801f2a5db1f13003d1dd001cf961935</catalog_variable><disabled>ignore</disabled><field/><mandatory>ignore</mandatory><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>James.Jose</sys_created_by><sys_created_on>2018-07-14 16:33:20</sys_created_on><sys_id>c501f2a5db1f13003d1dd001cf9619aa</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_effective_date</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>catalog_ui_policy_action_c501f2a5db1f13003d1dd001cf9619aa</sys_update_name><sys_updated_by>James.Jose</sys_updated_by><sys_updated_on>2018-07-14 16:33:20</sys_updated_on><table/><ui_policy display_value="">c101f2a5db1f13003d1dd001cf9619a8</ui_policy><variable>u_effective_date</variable><variable_set/><visible>false</visible></catalog_ui_policy_action></record_update>]]></payload>
<payload_hash>-677193232</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>059bc2d8dba86740fe199236db9619d8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64d50000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>u_effective_date</target_name>
<type>Catalog UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>70edb02c1dd02300447b5157a78b1948</update_guid>
<update_guid_history>70edb02c1dd02300447b5157a78b1948:-677193232,0501f2a5d51f1300e51ee063aaed2aac:1997901937</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_4d01f2a5db1f13003d1dd001cf9619a5</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="DELETE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions&gt;IO:e801f2a5db1f13003d1dd001cf961935&amp;lt;javascript:gs.beginningOfToday()^IO:e801f2a5db1f13003d1dd001cf961935ISNOTEMPTY^EQ&lt;/catalog_conditions&gt;&lt;catalog_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;700&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;true&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {
   g_form.hideFieldMsg('u_effective_date', true);
   //g_form.showFieldMsg('u_effective_date', '', 'info');
}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {
  g_form.setValue('u_effective_date', '');
  g_form.showFieldMsg('u_effective_date', 'Date must not be in the past.', "error");
}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Validate Effective Date&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:20&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4d01f2a5db1f13003d1dd001cf9619a5&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Validate Effective Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_4d01f2a5db1f13003d1dd001cf9619a5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 21:29:40&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>1723588632</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>099bc2d8dba86740fe199236db9619d7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64cb0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Validate Effective Date</target_name>
<type>Catalog UI Policy</type>
<update_domain>global</update_domain>
<update_guid>8f8d7ce8dfd023006cbee11ee4b25c06</update_guid>
<update_guid_history>8f8d7ce8dfd023006cbee11ee4b25c06:1723588632,5efde82038d0230009ad7b77762502b7:-101250012,91bd24605cd02300698120a955dfe193:-1886307543,e514282868902300b581b3e1e87d8ca4:-2013213012,c501f2a5891f1300633d8add4dd9a0a7:817598701</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_1a6a706edb00230066d65608689619f7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sc_req_item&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="sc_req_item"&gt;commentsVALCHANGES^ORwork_notesVALCHANGES^EQ&lt;item endquery="false" field="comments" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/&gt;&lt;item endquery="false" field="work_notes" goto="false" newquery="false" operator="VALCHANGES" or="true" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;SC_task_notification&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

	var cat_item = new GlideRecord('sc_task');
cat_item.addQuery('request_item',current.sys_id);
cat_item.query();
while(cat_item.next())
    
    {
        
var parm1='';
var parm2='';
gs.eventQueue("SC-task_notification_assignee", cat_item, parm1, parm2);
    }

})(current, previous);
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;NKUMAR&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-23 17:17:33&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;1a6a706edb00230066d65608689619f7&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;SC_task_notification&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_1a6a706edb00230066d65608689619f7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;NKUMAR&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-09-04 22:41:02&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=1a6a706edb00230066d65608689619f7"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>1962844618</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>0d9b8ad8dba86740fe199236db9619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad16bd890000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table>sc_req_item</table>
<target_name>SC_task_notification</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid>86d7bb1a77d0230097c8031c4280bcd7</update_guid>
<update_guid_history>86d7bb1a77d0230097c8031c4280bcd7:1962844618,3b3737d67bd02300f7f1db1ade9f7944:1216909237,d7dba712e0d02300e66f07af013d9e2e:1962844618,ac71ae1ab99c23406e640440aea3a8aa:1962844618,b6ba706e8400230069274425ceffa6d2:1216909237</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_5c96f0f6db0f1300f72fe04a48961968</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Update Contact Information (GAL)"&gt;ff863cb6db0f1300f72fe04a489619b0&lt;/cat_item&gt;&lt;cat_variable&gt;IO:d896f0f6db0f1300f72fe04a48961921&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;Update Form by Requested For&lt;/name&gt;&lt;order&gt;400&lt;/order&gt;&lt;script&gt;&lt;![CDATA[/**
 * Update the Form based on u_requested_for USER information
 * 
 * History
 * JIRA   Date         Developer       Description
 * -----  -----------  --------------  ------------------------
 * SB-### 6-July-2018  Munhwan Gim      Initial implementation  
 * SB-619 26-Aug-2018  Munhwan Gim      Bug Fix
 * SB-622 29-Aug-2018  Munhwan Gim      Bug Fix
 * SB-696 29-Aug-2018  Munhwan Gim      Bug Fix - hideFieldMsg 
 *
 * Copyright to BC Public Service, OCIO, Service Request Project
 **/
function onChange(control, oldValue, newValue, isLoading) {
   if (isLoading || newValue == '' || oldValue == newValue) {
      return;
   }
		
	// Remove the invalidation message first not to display more than once 
	g_form.hideFieldMsg('u_business_phone', true);	
	g_form.hideFieldMsg('u_mobile_phone', true);	
	g_form.hideFieldMsg('u_fax_number', true);	
	g_form.hideFieldMsg('u_pager', true);	
	g_form.hideFieldMsg('u_department', true);	
	g_form.hideFieldMsg('u_office', true);	
	g_form.hideFieldMsg('u_title', true);	
	g_form.hideFieldMsg('u_assistant', true);	
	
	var itemID = g_form.getUniqueValue();	
	
	var ga = new GlideAjax('OCIO_SR_HelperUtils');
	ga.addParam('sysparm_name', 'ajaxFtn_getUserItemById');
	ga.addParam('sysparm_src_sysid', newValue);
	ga.addParam('sysparm_item_sysid', itemID);
	ga.getXMLAnswer(cbFtn);
		
	function cbFtn(answer) {
		if (answer) {
			var retObj = JSON.parse(answer);
			
			g_form.setValue('u_organization', retObj.company, retObj.company);
			
			g_form.setValue('u_city',  retObj.city, retObj.city); 
			g_form.setValue('u_address', retObj.street, retObj.street); 
			g_form.setValue('u_postal_code', retObj.zip, retObj.zip);

			// Validate Department	
			var departmentMaxLength = 64;
			if (retObj.u_ad_department.length &lt;= departmentMaxLength) {
				g_form.setValue('u_department', retObj.u_ad_department, retObj.u_ad_department);  
			} else {
				var departmentTruncated = retObj.u_ad_department.substring(0, departmentMaxLength);
				g_form.setValue('u_department', departmentTruncated, departmentTruncated);  
				g_form.showFieldMsg('u_department', 'Maximum length ' + departmentMaxLength + ' characters. ' + retObj.u_ad_department, "error");
			}

			// Validate Office
			var officeMaxLength = 128;
			if (retObj.u_delivery_office.length &lt;= officeMaxLength) {
				g_form.setValue('u_office', retObj.u_delivery_office, retObj.u_delivery_office);  
			} else {
				var officeTruncated = retObj.u_delivery_office.substring(0, officeMaxLength);
				g_form.setValue('u_office', officeTruncated, officeTruncated);  
				g_form.showFieldMsg('u_office', 'Maximum length ' + officeMaxLength + ' characters. ' + retObj.u_delivery_office, "error");
			}

			// Validate Title
			var titleMaxLength = 64;
			if (retObj.title.length &lt;= titleMaxLength) {
				g_form.setValue('u_title', retObj.title, retObj.title);  
			} else {
				var titleTruncated = retObj.title.substring(0, titleMaxLength);
				g_form.setValue('u_title', titleTruncated, titleTruncated);  
				g_form.showFieldMsg('u_title', 'Maximum length ' + titleMaxLength + ' characters. ' + retObj.title, "error");
			}

			// Validate Assistant
			var assistantMaxLength = 76;
			if (retObj.u_assistant.length &lt;= assistantMaxLength) {
				g_form.setValue('u_assistant', retObj.u_assistant, retObj.u_assistant);  
			} else {
				var assistantTruncated = retObj.u_assistant.substring(0, assistantMaxLength);
				g_form.setValue('u_assistant', assistantTruncated, assistantTruncated);  
				g_form.showFieldMsg('u_assistant', 'Maximum length ' + assistantMaxLength + ' characters. ' + retObj.u_assistant, "error");
			}			

			// Set hidden varaibel for sc_item_request
			var sc_item_request_display_name = retObj.sc_cat_item_name + ' for ' + retObj.username;
			g_form.setValue('sc_item_request_display_name', sc_item_request_display_name, sc_item_request_display_name);			

			// Set Phone Number and set validation msg if any
			var invalidMsgPhoneDefault = 'Please enter 10 digit phone number.';
			var invalidMsgPhoneExtensionDefault = invalidMsgPhoneDefault + ' Extensions are entered as "ext" followed by 1 to 4 digits.';
			var invalidMsgToDisplay = '';
			if (retObj.bizPhoneInvalid != '') {
				g_form.setValue('u_business_phone','');
				invalidMsgToDisplay = invalidMsgPhoneExtensionDefault + ' ' + retObj.bizPhoneInvalid;
				g_form.showFieldMsg('u_business_phone', invalidMsgToDisplay, "error");
			} else {
				g_form.setValue('u_business_phone', retObj.phone, retObj.phone);
			}
			if (retObj.mobilePhoneInvalid != '') {
				g_form.setValue('u_mobile_phone','');
				invalidMsgToDisplay = invalidMsgPhoneDefault + ' ' + retObj.mobilePhoneInvalid;
				g_form.showFieldMsg('u_mobile_phone', invalidMsgToDisplay, "error");
				

			} else {
				g_form.setValue('u_mobile_phone', retObj.mobile_phone, retObj.mobile_phone);
			}
			if (retObj.faxNumberInvalid != '') {
				g_form.setValue('u_fax_number','');
				invalidMsgToDisplay = invalidMsgPhoneDefault + ' ' + retObj.faxNumberInvalid;
				g_form.showFieldMsg('u_fax_number', invalidMsgToDisplay, "error");
				

			} else {
				g_form.setValue('u_fax_number', retObj.u_fax_number, retObj.u_fax_number);
			}
			if (retObj.pagerInvalid != '') {
				g_form.setValue('u_pager','');
				invalidMsgToDisplay = invalidMsgPhoneDefault + ' ' + retObj.pagerInvalid;
				g_form.showFieldMsg('u_pager', invalidMsgToDisplay, "error");
			    

				
			} else {
				g_form.setValue('u_pager', retObj.u_pager, retObj.u_pager); 	
			}				
		}
	} 
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-05 18:35:04&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;5c96f0f6db0f1300f72fe04a48961968&lt;/sys_id&gt;&lt;sys_mod_count&gt;41&lt;/sys_mod_count&gt;&lt;sys_name&gt;Update Form by Requested For&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_5c96f0f6db0f1300f72fe04a48961968&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-31 19:13:57&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1687983676</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>0d9bc2d8dba86740fe199236db9619d6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165b224dc030000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Update Form by Requested For</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>3d126e855f102300e2130eb98a84d0aa</update_guid>
<update_guid_history>3d126e855f102300e2130eb98a84d0aa:1687983676,73b01674bbd0230044e6a39c6096153a:133317294,489056740ad0230069a986cf0d2c05ec:1705967380,b4e9c5a0da1c2f00e8ae40db84910d86:-904657822,bfa9c9a04e1c2f0077a4257d36a14660:1810378471,cee845a0d81c2f00d2d787a98d05f485:-904657822,96c845a07a1c2f00579a7289e852b92d:-992850467,e29881a0751c2f00cb3ed317b14d164f:-1379055092,067dd70c12502300b0c2e04eaa298733:638991804,4491116bf8006300951c2b64eb2c17b0:187582587,4f81dd2b410063002e2ca1a3f06e7db8:-475712386,657f85e71c006300bc59e6247845b7d3:187582587,bafe8da79300630081bd717f09a8c1d2:1794161333,7b4e09a737006300f67ef3e65fb42561:959634773,a0c98da389006300b64a5aa5d31b517c:43528443,ac48fc2beccc230089264b414e847636:93610978,3b38742be7cc2300e28d1d3919a44cd9:1028685503,d1287c2bbccc230049e8b1af21f9daa7:93610978,cea7b42bf1cc230086496162a6bdbc91:820550248,ee87302b34cc23007db7aec0eb2043e5:1991757000,ba37302b2fcc2300c3d661ec099d2d96:820550248,c0d6f8e75dcc23006c7539a4d5537c8c:-156041465,47e530e7afcc230099e3d569ecf0cb7b:2090886687,b485f4a7decc230027aec0572e2650b3:-960745729,6e94b867fdcc2300894684430a15d248:2133287477,7ac3f46706cc2300b393f9c8613597db:1744499945,20946d5a2b531300b6322de0eba7f50d:1097917574,40fe4d1ae6131300bd696f8993f0e3c0:-1016733615,f14e855eb01313003f297fb6f68707d7:-209305004,a3bc0d1a4a131300b922c1bab35a3aa3:-1839672701,0fede2acdb802300ff1fad8ad5552e32:-1308992061,10ede2ec0c802300935442b4f4eb2218:-360685187,39ad6aac618023001bd6aa7013855182:-1748032223,db90cd1ccc0023001cdc8dc359dcfeb0:1191137615,50f92c2fc9231300098eb036e3eab807:-535820275,dd82872af257d3001f6871df0b4032e9:928618771,a92143e64857d3009b57360d57b10e9b:-82815949,c3bcf351b55713000a000c31699291f9:687113123,14acb351015713001d2bb288f04ea843:123731799,c67c3711f85713005feb8b5097cb7fe2:687113123,a65cfb11e95713008c4e9dd5a1de172e:123731799,f199ffd9c1171300fc845d5ecf2ab2da:317865922,edd4ffd9291713002815028af82dae3a:-274645105,a45b4f955ad31300cc638dec42e5927e:-498121115,06328b9155d31300cff3ae462498a87d:-243775813,5af9329df1931300f52bf8039f434aae:-566602376,5da7b61572931300b7e5ee19d793725b:-1200937023,dc96f0f6b60f130016c2b8c14cc5446a:28901239</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_action_fc01f2a5db1f13003d1dd001cf961999</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Change Account">d401be25db1f13003d1dd001cf9619a2</catalog_item><catalog_variable>IO:e801f2a5db1f13003d1dd001cf961935</catalog_variable><disabled>ignore</disabled><field/><mandatory>true</mandatory><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>James.Jose</sys_created_by><sys_created_on>2018-07-14 16:33:19</sys_created_on><sys_id>fc01f2a5db1f13003d1dd001cf961999</sys_id><sys_mod_count>1</sys_mod_count><sys_name>u_effective_date</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>catalog_ui_policy_action_fc01f2a5db1f13003d1dd001cf961999</sys_update_name><sys_updated_by>MUNGIM</sys_updated_by><sys_updated_on>2018-08-29 21:54:23</sys_updated_on><table/><ui_policy display_value="Make Effective Date Mandatory">7801f2a5db1f13003d1dd001cf961997</ui_policy><variable>u_effective_date</variable><variable_set/><visible>true</visible></catalog_ui_policy_action></record_update>]]></payload>
<payload_hash>-165062565</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>419b8ad8dba86740fe199236db9619e4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64b20000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>u_effective_date</target_name>
<type>Catalog UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>a8a37824b8d0230063b91ec1560958cb</update_guid>
<update_guid_history>a8a37824b8d0230063b91ec1560958cb:-165062565,b801f2a59f1f1300466f10e5da81e69b:695268237</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_7801f2a5db1f13003d1dd001cf961997</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions&gt;IO:6801f2a5db1f13003d1dd001cf96192a=u_place_hold^ORIO:6801f2a5db1f13003d1dd001cf96192a=u_remove_hold^EQ&lt;/catalog_conditions&gt;&lt;catalog_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;600&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Show Effective Date Mandatory and Make it mandatory&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;7801f2a5db1f13003d1dd001cf961997&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Show Effective Date Mandatory and Make it mandatory&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_7801f2a5db1f13003d1dd001cf961997&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 21:56:31&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>1214631613</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>419bc2d8dba86740fe199236db9619d8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64bc0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Show Effective Date Mandatory and Make it mandatory</target_name>
<type>Catalog UI Policy</type>
<update_domain>global</update_domain>
<update_guid>b314f864cdd02300ba9487c253ea9e9e</update_guid>
<update_guid_history>b314f864cdd02300ba9487c253ea9e9e:1214631613,b8b3f42477d02300b09f8627392948b5:-1896881837,99f284f9c35f13006f55188394adfea3:-532096959,f001f2a5031f130063c58f413d5b0d99:2046248671</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_4101f2a5db1f13003d1dd001cf9619a1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions&gt;IO:6801f2a5db1f13003d1dd001cf96192a=u_change_account_expiry_date^EQ&lt;/catalog_conditions&gt;&lt;catalog_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;150&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Show Account Expiry Date and Make it mandatory&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4101f2a5db1f13003d1dd001cf9619a1&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Show Account Expiry Date and Make it mandatory&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_4101f2a5db1f13003d1dd001cf9619a1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 21:55:47&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>1752184741</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>459bc2d8dba86740fe199236db9619d7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64b70000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Show Account Expiry Date and Make it mandatory</target_name>
<type>Catalog UI Policy</type>
<update_domain>global</update_domain>
<update_guid>8df3b864a2d0230095d6d00550865aac</update_guid>
<update_guid_history>8df3b864a2d0230095d6d00550865aac:1752184741,48aa397fbe002300a06bb045ff746b2b:-1616437511,abe2313b55002300b38cdd1b9a7e259d:2083132677,f43d267308cc6b004e3b3a97f2de5007:-1243229947,caac66333fcc6b00c4dec40b29a2f069:-611787935,562be67f2f8c6b00b61859015645ab4b:-1243229947,c6ea627f918c6b007cd0d2031cce1c18:846897125,c901f2a57e1f1300211a2f8eb86a56a2:822016012</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_55ff70205f111000b12e3572f2b477f2</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Use the two step checkout model when placing a Catalog Order from a Wizard (default true)</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>glide.expert.checkout.twostep</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2011-09-20 17:26:02</sys_created_on><sys_id>55ff70205f111000b12e3572f2b477f2</sys_id><sys_mod_count>2</sys_mod_count><sys_name>glide.expert.checkout.twostep</sys_name><sys_package display_value="Expert System" source="com.snc.expert">1e3b247bdb710300ae0690f9db961961</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_55ff70205f111000b12e3572f2b477f2</sys_update_name><sys_updated_by>JAJOSE</sys_updated_by><sys_updated_on>2018-09-10 17:16:12</sys_updated_on><type>boolean</type><value>false</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=55ff70205f111000b12e3572f2b477f2"/></record_update>]]></payload>
<payload_hash>-1487786337</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>499b8ad8dba86740fe199236db9619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165c47bcdc80000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>glide.expert.checkout.twostep</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>d607655c13286740939bafb28af93c9d</update_guid>
<update_guid_history>d607655c13286740939bafb28af93c9d:-1487786337,9207655cd5286740ca19dcd520ef839c:2113353840</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_3401f2a5db1f13003d1dd001cf961988</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="DELETE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/cat_item&gt;&lt;cat_variable&gt;IO:e001f2a5db1f13003d1dd001cf96193b&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;Validate Account Expiry Date&lt;/name&gt;&lt;order&gt;300&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading) {
	if (isLoading || newValue == '') {
		return;
	}
	
	/*var currentDateObj = new Date();
	var currentDateStr = formatDate(currentDateObj, g_user_date_format);
	var currentDateNum = getDateFromFormat(currentDateStr, g_user_date_format);
	var startDateNum = getDateFromFormat(newValue, g_user_date_format);
	if (startDateNum &lt;= currentDateNum) {
		g_form.showFieldMsg('u_account_expiry_date','Please ensure that the Expiry date is in the future!', 'error');
		return false;
	}*/
	g_form.hideFieldMsg('u_account_expiry_date',clearAll);
	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;3401f2a5db1f13003d1dd001cf961988&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Validate Account Expiry Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_3401f2a5db1f13003d1dd001cf961988&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;James.Jose&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-07-14 16:33:19&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1581900296</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>499bc2d8dba86740fe199236db9619d6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64a70000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Validate Account Expiry Date</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>f373e06834902300bac5bf892805c567</update_guid>
<update_guid_history>f373e06834902300bac5bf892805c567:1581900296,b401f2a5a21f1300f1362881352d088a:-972131526</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sysevent_email_action_e052c2a6dbc0230066d6560868961971</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sysevent_email_action"&gt;&lt;sysevent_email_action action="INSERT_OR_UPDATE"&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;advanced_condition/&gt;&lt;affected_field_on_event/&gt;&lt;category display_value="IT Service Management" name="IT Service Management"&gt;b69d02137f232200ee2e108c3ffa9142&lt;/category&gt;&lt;collection&gt;sc_task&lt;/collection&gt;&lt;condition table="sc_task"&gt;assigned_toISNOTEMPTY^stateIN-5,1,2^EQ&lt;item endquery="false" field="assigned_to" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/&gt;&lt;item endquery="false" field="state" goto="false" newquery="false" operator="IN" or="false" value="-5,1,2"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/condition&gt;&lt;content_type&gt;text/html&lt;/content_type&gt;&lt;default_interval/&gt;&lt;description&gt;BCGOV-SR-NOTIF03 SR Updated (Assignee to).&lt;/description&gt;&lt;digest_from/&gt;&lt;digest_html/&gt;&lt;digest_reply_to/&gt;&lt;digest_separator_html&gt;&lt;![CDATA[&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;]]&gt;&lt;/digest_separator_html&gt;&lt;digest_separator_text&gt;&lt;![CDATA[\n--------------------------------------------------------------------------------\n]]&gt;&lt;/digest_separator_text&gt;&lt;digest_subject/&gt;&lt;digest_template/&gt;&lt;digest_text/&gt;&lt;digestable&gt;false&lt;/digestable&gt;&lt;event_name&gt;SC-task_notification_assignee&lt;/event_name&gt;&lt;event_parm_1&gt;false&lt;/event_parm_1&gt;&lt;event_parm_2&gt;false&lt;/event_parm_2&gt;&lt;exclude_delegates&gt;false&lt;/exclude_delegates&gt;&lt;force_delivery&gt;false&lt;/force_delivery&gt;&lt;from/&gt;&lt;generation_type&gt;event&lt;/generation_type&gt;&lt;importance/&gt;&lt;include_attachments&gt;false&lt;/include_attachments&gt;&lt;item&gt;event.parm1&lt;/item&gt;&lt;item_table/&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;message/&gt;&lt;message_html&gt;&lt;![CDATA[&lt;p style="margin-right: 0in; margin-left: 0in; font-size: 12pt; font-family: 'Times New Roman', serif;"&gt;&lt;span style="font-size: 10pt; font-family: arial, helvetica, sans-serif;"&gt;&lt;strong&gt;${assigned_to.first_name}&lt;/strong&gt;, Service Request Item ${request_item.URI_REF} has been updated: ${short_description}&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style="font-size: 10pt; font-family: arial, helvetica, sans-serif;"&gt;${mail_script:last_comment_or_worknote-SC}&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style="font-size: 10pt; font-family: arial, helvetica, sans-serif;"&gt; &lt;strong&gt;Updated on :&lt;/strong&gt; ${request_item.sys_updated_on}&lt;/span&gt;&lt;/p&gt;]]&gt;&lt;/message_html&gt;&lt;message_list/&gt;&lt;message_text/&gt;&lt;name&gt;BCGOV-SR-NOTIF03 SR Updated (Assig to)&lt;/name&gt;&lt;omit_watermark&gt;true&lt;/omit_watermark&gt;&lt;order&gt;100&lt;/order&gt;&lt;push_message_only&gt;false&lt;/push_message_only&gt;&lt;recipient_fields&gt;assigned_to&lt;/recipient_fields&gt;&lt;recipient_groups/&gt;&lt;recipient_users/&gt;&lt;reply_to/&gt;&lt;send_self&gt;true&lt;/send_self&gt;&lt;sms_alternate/&gt;&lt;style/&gt;&lt;subject&gt;Service request item ${request_item.number} Has Been Updated&lt;/subject&gt;&lt;subscribable&gt;false&lt;/subscribable&gt;&lt;sys_class_name&gt;sysevent_email_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;NKUMAR&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-23 22:30:52&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;e052c2a6dbc0230066d6560868961971&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;BCGOV-SR-NOTIF03 SR Updated (Assig to)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sysevent_email_action_e052c2a6dbc0230066d6560868961971&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;NKUMAR&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-09-04 22:15:52&lt;/sys_updated_on&gt;&lt;sys_version&gt;2&lt;/sys_version&gt;&lt;template/&gt;&lt;type&gt;email&lt;/type&gt;&lt;weight&gt;0&lt;/weight&gt;&lt;/sysevent_email_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1890981632</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>4d9b8ad8dba86740fe199236db9619e4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad17666b0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table>sc_task</table>
<target_name>BCGOV-SR-NOTIF03 SR Updated (Assig to)</target_name>
<type>Notification</type>
<update_domain>global</update_domain>
<update_guid>9912fb1642d023006b679ba355318b0e</update_guid>
<update_guid_history>9912fb1642d023006b679ba355318b0e:-1890981632,c19ba3128cd02300329c78ae242ba57b:1215950780,386b231274d023004a28087f38f90617:-1253725148,334ba312acd02300188a7f1cf1ab686e:85923832,3bf12e9a7b9c2340c108fa2e753044ff:-1847593378,3a49f5c93b182f00eda1193f3625717b:-1950241666,93e2c2a6c7c02300521e975a440b6142:-1847593378,b0d2c2a6e3c02300b865cd7e400ecba3:2116506384,d8720e665dc02300684d3497cff8f2a8:1401203290</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_87a87b5fdb371300f72fe04a48961923</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;conditions table="sc_task"&gt;state=4^EQ&lt;item endquery="false" field="state" goto="false" newquery="false" operator="=" or="false" value="4"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/conditions&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;200&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Make Close notes mandatory &lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-14 04:49:51&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;87a87b5fdb371300f72fe04a48961923&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Make Close notes mandatory &lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_87a87b5fdb371300f72fe04a48961923&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;mkuriako&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-09-07 03:37:04&lt;/sys_updated_on&gt;&lt;table&gt;sc_task&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>314615262</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>819b8ad8dba86740fe199236db9619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165b22ed1920000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table>sc_task</table>
<target_name>Make Close notes mandatory </target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>cace8f072a10230018fb61d6632c97f7</update_guid>
<update_guid_history>cace8f072a10230018fb61d6632c97f7:314615262,da49ff5fa237130020fed41abd896cfa:-1081904503</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_9496f0f6db0f1300f72fe04a48961951</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Update Contact Information (GAL)"&gt;ff863cb6db0f1300f72fe04a489619b0&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;Set Default Fields From Current User&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[/**
 * Set Default values using the current logged-In User
 * 
 * History
 * JIRA   Date         Developer       Description
 * -----  -----------  --------------  ------------------------
 * SB-155 07-July-2018  Munhwan Gim     Initial implementation  
 * SB-188 07-Aug-2018  Munhwan Gim      Fix defects re: phone number validations
 * SB-622 23-Aug-2018  Munhwan Gim      Validation on title and assistant field
 * SB-696 31-Aug-2018  Munhwan Gim      Remove all msgs first
 *
 * Copyright to BC Public Service, OCIO, Service Request Project  
 **/
function onLoad() {
   
	var userID = g_user.userID;
	var userName = g_user.userName;	
	var itemID = g_form.getUniqueValue();	
		
	// Remove the invalidation message first not to display more than once 
	g_form.hideFieldMsg('u_business_phone', true);	
	g_form.hideFieldMsg('u_mobile_phone', true);	
	g_form.hideFieldMsg('u_fax_number', true);	
	g_form.hideFieldMsg('u_pager', true);	
	g_form.hideFieldMsg('u_department', true);	
	g_form.hideFieldMsg('u_office', true);	
	g_form.hideFieldMsg('u_title', true);	
	g_form.hideFieldMsg('u_assistant', true);	
	
	
	var ga = new GlideAjax('OCIO_SR_HelperUtils');
	ga.addParam('sysparm_name', 'ajaxFtn_getUserItemById');
	ga.addParam('sysparm_src_sysid', userID);
	ga.addParam('sysparm_item_sysid', itemID);
	
	ga.getXMLAnswer(cbFtn);
		
	function cbFtn(answer) {
		if (answer) {
			var retObj = JSON.parse(answer);
			
			g_form.setValue('u_organization', retObj.company, retObj.company);
                        			
			g_form.setValue('u_city',  retObj.city, retObj.city); 
			g_form.setValue('u_address', retObj.street, retObj.street); 
			g_form.setValue('u_postal_code', retObj.zip, retObj.zip);
				
                        // Validate Department	
                        var departmentMaxLength = 64;
                        if (retObj.u_ad_department.length &lt;= departmentMaxLength) {
			   g_form.setValue('u_department', retObj.u_ad_department, retObj.u_ad_department);  
                        } else {
                           var departmentTruncated = retObj.u_ad_department.substring(0, departmentMaxLength);
                           g_form.setValue('u_department', departmentTruncated, departmentTruncated);  
                           g_form.showFieldMsg('u_department', 'Maximum length ' + departmentMaxLength + ' characters. ' + retObj.u_ad_department, "error");
                        }

                        // Validate Office
                        var officeMaxLength = 128;
                        if (retObj.u_delivery_office.length &lt;= officeMaxLength) {
			   g_form.setValue('u_office', retObj.u_delivery_office, retObj.u_delivery_office);  
                        } else {
                           var officeTruncated = retObj.u_delivery_office.substring(0, officeMaxLength);
                           g_form.setValue('u_office', officeTruncated, officeTruncated);  
                           g_form.showFieldMsg('u_office', 'Maximum length ' + officeMaxLength + ' characters. ' + retObj.u_delivery_office, "error");
                        }
			
                        // Validate Title
                        var titleMaxLength = 64;
                        if (retObj.title.length &lt;= titleMaxLength) {
			   g_form.setValue('u_title', retObj.title, retObj.title);  
                        } else {
                           var titleTruncated = retObj.title.substring(0, titleMaxLength);
                           g_form.setValue('u_title', titleTruncated, titleTruncated);  
                           g_form.showFieldMsg('u_title', 'Maximum length ' + titleMaxLength + ' characters. ' + retObj.title, "error");
                        }

                        // Validate Assistant
                        var assistantMaxLength = 76;
                        if (retObj.u_assistant.length &lt;= assistantMaxLength) {
			   g_form.setValue('u_assistant', retObj.u_assistant, retObj.u_assistant);  
                        } else {
                           var assistantTruncated = retObj.u_assistant.substring(0, assistantMaxLength);
                           g_form.setValue('u_assistant', assistantTruncated, assistantTruncated);  
                           g_form.showFieldMsg('u_assistant', 'Maximum length ' + assistantMaxLength + ' characters. ' + retObj.u_assistant, "error");
                        }
			
			// Set hidden varaibel for sc_item_request
			var sc_item_request_display_name = retObj.sc_cat_item_name + ' for ' + retObj.username;
			g_form.setValue('sc_item_request_display_name', sc_item_request_display_name, sc_item_request_display_name);			

			// Set Phone Number and set validation msg if any
			var invalidMsgPhoneDefault = 'Please enter 10 digit phone number.';
			var invalidMsgPhoneExtensionDefault = invalidMsgPhoneDefault + ' Extensions are entered as "ext" followed by 1 to 4 digits.';
			var invalidMsgToDisplay = '';
			if (retObj.bizPhoneInvalid != '') {
				invalidMsgToDisplay = invalidMsgPhoneExtensionDefault + ' ' + retObj.bizPhoneInvalid;
				g_form.showFieldMsg('u_business_phone', invalidMsgToDisplay, "error");	
			} else {
				g_form.setValue('u_business_phone', retObj.phone, retObj.phone);
			}
			if (retObj.mobilePhoneInvalid != '') {
				invalidMsgToDisplay = invalidMsgPhoneDefault + ' ' + retObj.mobilePhoneInvalid;
				g_form.showFieldMsg('u_mobile_phone', invalidMsgToDisplay, "error");				
			} else {
				g_form.setValue('u_mobile_phone', retObj.mobile_phone, retObj.mobile_phone);
			}
			if (retObj.faxNumberInvalid != '') {
				invalidMsgToDisplay = invalidMsgPhoneDefault + ' ' + retObj.faxNumberInvalid;
				g_form.showFieldMsg('u_fax_number', invalidMsgToDisplay, "error");				
			} else {
				g_form.setValue('u_fax_number', retObj.u_fax_number, retObj.u_fax_number);
			}
			if (retObj.pagerInvalid != '') {
				invalidMsgToDisplay = invalidMsgPhoneDefault + ' ' + retObj.pagerInvalid;
				g_form.showFieldMsg('u_pager', invalidMsgToDisplay, "error");				
			} else {
				g_form.setValue('u_pager', retObj.u_pager, retObj.u_pager); 	
			}				
		}
	}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-05 18:35:04&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;9496f0f6db0f1300f72fe04a48961951&lt;/sys_id&gt;&lt;sys_mod_count&gt;36&lt;/sys_mod_count&gt;&lt;sys_name&gt;Set Default Fields From Current User&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_9496f0f6db0f1300f72fe04a48961951&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-31 19:15:28&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2089925745</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>819bc2d8dba86740fe199236db9619d7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165b224dc0c0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Set Default Fields From Current User</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>c872aa85e910230008aa021d580e6e22</update_guid>
<update_guid_history>c872aa85e910230008aa021d580e6e22:-2089925745,aee01a78c95023005cb290943c804210:-748151213,01e09678df502300c2d3f3c723aefd03:546496054,a17cc6b49c5023000f31024e06faaac0:-748151213,11d9c5e0d61c2f00967af283a9a4f755:546496054,a7b905e0fd1c2f001ebd58ae18ade483:1866261859,d7dacac0ce102300c01e678f6fc440a2:546496054,9eda46048c10230001c2c03fa3d2a076:85144729,955986c004102300d3cfbb357e42be7d:546496054,9093b4672bcc23005375720bfcf606c3:-1837449808,7933b06766cc230037a26524c13c1c0e:354432778,dc3b69661b8023008f969b89f6603024:-1551154813,5a2aa1661c8023006ec01567bf384e97:-1952499376,aaf96de2e6802300016e0a14115f5fcd:-443876382,e8a929e2a980230090689a1f221db93b:666124628,c0392d26c1802300b658ce3e04fc839b:1970455303,88b825a211802300a1a8490922c1351c:1139054890,ed75bee019c023009131b6aced730b79:1367829209,ba8d22ac3c802300bfb8a79a77a20e6d:-1780394915,256ca66cd68023001a84cce93c1a0036:-913426405,8f5c22acf5802300a8f716490e5e5471:-439860319,bdcb6a6cc9802300e883b8d0cf8f3934:155685921,e97aaee8ac8023004f8f260b018edda7:1416314692,4e8f0ee8cf402300756569a41551dd7b:-1526299140,ab6b8e68a340230014edd4fc113b0538:-1121435318,f60946a88840230046c232a6bd321793:-186589193,b139b9e83100230095412fec5e556738:-905661102,6037396c4700230068f2098ff6752853:-1116072434,0e71c95c400023009bb902050c23d5eb:-1507553781,1fb9e06f74231300d0641ff120265559:-1604012708,4762472a3357d3007a627049c44af5f4:1349622886,33808f261457d300268122a785125cdd:1071970790,7a9b3711a2571300886c4e4dc65c416d:-2130502692,48aabf1d54171300c2a4345a1342d4ff:868585948,99b4731d5c171300f64db8dfcd30b5bf:-2130502692,6b94971de8d31300f7ebdbb5cf352169:613236051,e864971d0ed313009a658f30d82d4463:-646106285,76ee0b59b4d3130086f76210455d69a0:613236051,5ffacf9567d313002dc0e67bae9243ff:1747250588,7762c7110ed313004dd6a7a28035ddf4:2109032777,1896f0f6ca0f13007cae9635acec1f53:-965243071</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_17bcdc250a04bf1500b65a68a033d0a0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Show the 'Back to Catalog' button on the two step checkout screen.</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>glide.sc.checkout.twostep.back</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>glide.maint</sys_created_by><sys_created_on>2006-06-27 23:04:48</sys_created_on><sys_id>17bcdc250a04bf1500b65a68a033d0a0</sys_id><sys_mod_count>6</sys_mod_count><sys_name>glide.sc.checkout.twostep.back</sys_name><sys_package display_value="Service Catalog Platform" source="com.glideapp.servicecatalog.platform">3e3b647bdb710300ae0690f9db961964</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_17bcdc250a04bf1500b65a68a033d0a0</sys_update_name><sys_updated_by>JAJOSE</sys_updated_by><sys_updated_on>2018-09-06 22:27:02</sys_updated_on><type>boolean</type><value>false</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=17bcdc250a04bf1500b65a68a033d0a0"/></record_update>]]></payload>
<payload_hash>-418685461</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>859b8ad8dba86740fe199236db9619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165b0fef17c0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>glide.sc.checkout.twostep.back</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>e0d70e03105ca340e57de77abc3d0f3d</update_guid>
<update_guid_history>e0d70e03105ca340e57de77abc3d0f3d:-418685461,acd70e03295ca3400e0d731eccf03b3b:1039462308</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_2d342c68db9023007a74fe1b689619a2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/cat_item&gt;&lt;cat_variable&gt;IO:e801f2a5db1f13003d1dd001cf961935&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;Validate Effective Date&lt;/name&gt;&lt;order&gt;400&lt;/order&gt;&lt;script&gt;&lt;![CDATA[/**
 * Validate Effective Date not to set in Past
 * 
 * History
 * JIRA   Date         Developer       Description
 * -----  -----------  --------------  ------------------------
 * SB-645 11-July-2018  Munhwan Gim      Initial implementation 
 * Copyright to BC Public Service - Service Request
 **/
function onChange(control, oldValue, newValue, isLoading) {
		
	if (isLoading || newValue == '' || newValue == oldValue) {
		return;
	}

	// This assign to the local value seems to be necessary
	var effective_date = newValue; 
	
	var ga = new GlideAjax("OCIO_SR_HelperUtils");
	ga.addParam("sysparm_name", "getDateComparison");
	ga.addParam("sysparm_date_to_check", effective_date);
	ga.getXML(cbIsPast);
	
	function cbIsPast(response) {          
				
		var isInPast = response.responseXML.documentElement.getAttribute("answer");
		
		// Hide existing msg first to avoid to display more than once per control
		g_form.hideFieldMsg('u_effective_date', true);
		
		var msg = 'Date must not be in the past. ' + effective_date;
		if(isInPast == "true"){
			g_form.showFieldMsg('u_effective_date', msg, "error", false); 
		}
	}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;MUNGIM&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-29 20:49:06&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2d342c68db9023007a74fe1b689619a2&lt;/sys_id&gt;&lt;sys_mod_count&gt;20&lt;/sys_mod_count&gt;&lt;sys_name&gt;Validate Effective Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_2d342c68db9023007a74fe1b689619a2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 22:41:38&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1096437557</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>859bc2d8dba86740fe199236db9619d6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64df0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Validate Effective Date</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>607ef42c66d02300072bcf39fb58b7b2</update_guid>
<update_guid_history>607ef42c66d02300072bcf39fb58b7b2:-1096437557,7a1d7ca8f8d02300f4454fe0d89f9e0b:2031646605,e2cbf8a8c4d02300df73db0b9b380d2e:1378449813,ef2bb868fad02300de8e834f4d11d1ad:1164390677,944ab468aed02300a145ed77a1d8f8d5:215006749,79063c645ad02300cc8023ab809336c8:2054474300,cbb57ca4dad023002c756d076400da62:-1325572452,6cc13024e0d02300aa39de9c5307edbd:324463707,5f2170e0d5d023003974715895c22ffd:778252807,ad0e68608ad02300ef707a3949056cf5:-392140691,635decec6990230026f38638eefae7cd:2014358474,b78cacec4a902300d346a700f2a584b3:-392140691,7c3cacec9b9023006b1b6368dad3a9ad:-1453358076,f718246c3d902300c474ad51a660e906:-2103194663,2df7ece84c902300b1eaf5167534d20a:151838165,d28668e88090230079e6fdb8326c2f3e:-341692415,9316e8a84f9023001fa6cdcce71ea915:-1333544561,fca56ca8f39023007feda22170093fd1:-892395306,046568a8bb902300b15c5bdad14650d6:-134113260,2e0560a80590230031c8e82f25f9307f:1134059594,9cb4a0686c902300a3b7c76be521befc:-629449614</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sysevent_email_action_66040ea6dbc0230066d6560868961929</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sysevent_email_action"&gt;&lt;sysevent_email_action action="INSERT_OR_UPDATE"&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;advanced_condition/&gt;&lt;affected_field_on_event/&gt;&lt;category display_value="IT Service Management" name="IT Service Management"&gt;b69d02137f232200ee2e108c3ffa9142&lt;/category&gt;&lt;collection&gt;sc_task&lt;/collection&gt;&lt;condition table="sc_task"&gt;assignment_groupISNOTEMPTY^stateIN-5,1,2^assigned_toISEMPTY^EQ&lt;item endquery="false" field="assignment_group" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/&gt;&lt;item endquery="false" field="state" goto="false" newquery="false" operator="IN" or="false" value="-5,1,2"/&gt;&lt;item endquery="false" field="assigned_to" goto="false" newquery="false" operator="ISEMPTY" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/condition&gt;&lt;content_type&gt;text/html&lt;/content_type&gt;&lt;default_interval/&gt;&lt;description&gt;BCGOV-SR-NOTIF05 SR Updated (Assignment grp).&lt;/description&gt;&lt;digest_from/&gt;&lt;digest_html/&gt;&lt;digest_reply_to/&gt;&lt;digest_separator_html&gt;&lt;![CDATA[&lt;p&gt;&amp;nbsp;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&amp;nbsp;&lt;/p&gt;]]&gt;&lt;/digest_separator_html&gt;&lt;digest_separator_text&gt;&lt;![CDATA[\n--------------------------------------------------------------------------------\n]]&gt;&lt;/digest_separator_text&gt;&lt;digest_subject/&gt;&lt;digest_template/&gt;&lt;digest_text/&gt;&lt;digestable&gt;false&lt;/digestable&gt;&lt;event_name&gt;SC-task_notification_assignee&lt;/event_name&gt;&lt;event_parm_1&gt;false&lt;/event_parm_1&gt;&lt;event_parm_2&gt;false&lt;/event_parm_2&gt;&lt;exclude_delegates&gt;false&lt;/exclude_delegates&gt;&lt;force_delivery&gt;false&lt;/force_delivery&gt;&lt;from/&gt;&lt;generation_type&gt;event&lt;/generation_type&gt;&lt;importance/&gt;&lt;include_attachments&gt;false&lt;/include_attachments&gt;&lt;item&gt;event.parm1&lt;/item&gt;&lt;item_table/&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;message/&gt;&lt;message_html&gt;&lt;![CDATA[&lt;p style="margin-right: 0in; margin-left: 0in; font-size: 12pt; font-family: 'Times New Roman', serif;"&gt;&lt;span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"&gt;Service Request Item ${request_item.URI_REF} has been updated: ${short_description}&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"&gt;${mail_script:last_comment_or_worknote-SC}&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"&gt; &lt;strong&gt;Updated on :&lt;/strong&gt; ${request_item.sys_updated_on}&lt;/span&gt;&lt;/p&gt;]]&gt;&lt;/message_html&gt;&lt;message_list/&gt;&lt;message_text/&gt;&lt;name&gt;BCGOV-SR-NOTIF05 SR Updated (Assign grp)&lt;/name&gt;&lt;omit_watermark&gt;true&lt;/omit_watermark&gt;&lt;order&gt;100&lt;/order&gt;&lt;push_message_only&gt;false&lt;/push_message_only&gt;&lt;recipient_fields&gt;assignment_group&lt;/recipient_fields&gt;&lt;recipient_groups/&gt;&lt;recipient_users/&gt;&lt;reply_to/&gt;&lt;send_self&gt;true&lt;/send_self&gt;&lt;sms_alternate/&gt;&lt;style/&gt;&lt;subject&gt;Service request item ${request_item.number} Has Been Updated&lt;/subject&gt;&lt;subscribable&gt;false&lt;/subscribable&gt;&lt;sys_class_name&gt;sysevent_email_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;NKUMAR&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-23 22:38:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;66040ea6dbc0230066d6560868961929&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;BCGOV-SR-NOTIF05 SR Updated (Assign grp)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sysevent_email_action_66040ea6dbc0230066d6560868961929&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;NKUMAR&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-09-04 22:09:52&lt;/sys_updated_on&gt;&lt;sys_version&gt;2&lt;/sys_version&gt;&lt;template/&gt;&lt;type&gt;email&lt;/type&gt;&lt;weight&gt;0&lt;/weight&gt;&lt;/sysevent_email_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-279848657</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>899b8ad8dba86740fe199236db9619e4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad1b59770000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table>sc_task</table>
<target_name>BCGOV-SR-NOTIF05 SR Updated (Assign grp)</target_name>
<type>Notification</type>
<update_domain>global</update_domain>
<update_guid>edb0771624d02300e255ef5036a130ce</update_guid>
<update_guid_history>edb0771624d02300e255ef5036a130ce:-279848657,190077d243d02300093e2deb80b993d8:-121808974,c85c2b120ad02300e56090bd4ce3d233:-1007654325,d22ceb12c0d023002b3e885514792035:-1973003,0b82265e969c2340cc94b3b816005489:-1403437079,43373d8907182f00d92aa717b504ab87:636730557,dca406e6d5c02300ad3ac95fb304120d:1504133651,dca406e6d5c02300ad3ac95fb304120d:1504133651,631482a625c02300415e3358b573b7c9:-1444786874</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_7801f2a5db1f13003d1dd001cf961990</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="DELETE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions&gt;IO:e001f2a5db1f13003d1dd001cf96193b&amp;lt;javascript:gs.beginningOfToday()^IO:e001f2a5db1f13003d1dd001cf96193bISNOTEMPTY^EQ&lt;/catalog_conditions&gt;&lt;catalog_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;false&lt;/on_load&gt;&lt;order&gt;300&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;true&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {
g_form.hideFieldMsg("u_account_expiry_date");
}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {
    g_form.setValue('u_account_expiry_date', '');
	g_form.showFieldMsg('u_account_expiry_date', 'Date must not be in the past.', "error");

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Validate Account Expiry Date&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;7801f2a5db1f13003d1dd001cf961990&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Validate Account Expiry Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_7801f2a5db1f13003d1dd001cf961990&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 20:40:57&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>472052652</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>8d9bc2d8dba86740fe199236db9619d7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64d00000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Validate Account Expiry Date</target_name>
<type>Catalog UI Policy</type>
<update_domain>global</update_domain>
<update_guid>1ebd7ce88dd02300052e3fb99308be0d</update_guid>
<update_guid_history>1ebd7ce88dd02300052e3fb99308be0d:472052652,b8d260282b902300e02be8c3ffd6d1d5:-1840853728,7001f2a5d01f13009c4cd3ef86b7dd92:1329565651</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_data_policy_rule_46ce8f074f102300dc6922788310c7f3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_data_policy_rule"><sys_data_policy_rule action="INSERT_OR_UPDATE"><disabled>ignore</disabled><field>close_notes</field><mandatory>true</mandatory><sys_class_name>sys_data_policy_rule</sys_class_name><sys_created_by>mkuriako</sys_created_by><sys_created_on>2018-09-07 03:37:04</sys_created_on><sys_data_policy display_value="Make Close notes mandatory ">cece4f834f102300dc6922788310c7fe</sys_data_policy><sys_id>46ce8f074f102300dc6922788310c7f3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>close_notes</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_data_policy_rule_46ce8f074f102300dc6922788310c7f3</sys_update_name><sys_updated_by>mkuriako</sys_updated_by><sys_updated_on>2018-09-07 03:37:04</sys_updated_on><table>sc_task</table></sys_data_policy_rule></record_update>]]></payload>
<payload_hash>-1351616818</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>c19b8ad8dba86740fe199236db9619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165b22ed18d0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table>sc_task</table>
<target_name>close_notes</target_name>
<type>Data Policy Rule</type>
<update_domain>global</update_domain>
<update_guid>0ece8f07491023008c5bfbfaccad50f4</update_guid>
<update_guid_history>0ece8f07491023008c5bfbfaccad50f4:-1351616818</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>kb_category_6ed69e4ddb582f0050479eb6db96199c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="kb_category"><kb_category action="INSERT_OR_UPDATE"><active>true</active><full_category>Training Videos</full_category><label>Training Videos</label><parent_id>0949cdc6dbf21300f72fe04a48961989</parent_id><parent_table>kb_knowledge_base</parent_table><sys_created_by>CVANHUMB</sys_created_by><sys_created_on>2018-08-31 18:25:03</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>6ed69e4ddb582f0050479eb6db96199c</sys_id><sys_mod_count>1</sys_mod_count><sys_updated_by>CVANHUMB</sys_updated_by><sys_updated_on>2018-08-31 18:25:03</sys_updated_on><value>Training Videos</value></kb_category><sys_translated_text action="delete_multiple" query="documentkey=6ed69e4ddb582f0050479eb6db96199c"/></record_update>]]></payload>
<payload_hash>2123075719</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>c59b8ad8dba86740fe199236db9619e4</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165c48242e40000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Training Videos</target_name>
<type>Knowledge Category</type>
<update_domain>global</update_domain>
<update_guid>b5a82d9c1328674039408b1b1a001222</update_guid>
<update_guid_history>b5a82d9c1328674039408b1b1a001222:2123075719</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_action_f801f2a5db1f13003d1dd001cf96199e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="DELETE"><catalog_item display_value="Change Account">d401be25db1f13003d1dd001cf9619a2</catalog_item><catalog_variable>IO:e001f2a5db1f13003d1dd001cf96193b</catalog_variable><disabled>ignore</disabled><field/><mandatory>true</mandatory><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>James.Jose</sys_created_by><sys_created_on>2018-07-14 16:33:19</sys_created_on><sys_id>f801f2a5db1f13003d1dd001cf96199e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_account_expiry_date</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>catalog_ui_policy_action_f801f2a5db1f13003d1dd001cf96199e</sys_update_name><sys_updated_by>James.Jose</sys_updated_by><sys_updated_on>2018-07-14 16:33:19</sys_updated_on><table/><ui_policy display_value="">7401f2a5db1f13003d1dd001cf96199c</ui_policy><variable>u_account_expiry_date</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload>
<payload_hash>897858950</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>c59bc2d8dba86740fe199236db9619d8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64910000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>u_account_expiry_date</target_name>
<type>Catalog UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>b5922828ad9023007e9cdf96acbad999</update_guid>
<update_guid_history>b5922828ad9023007e9cdf96acbad999:897858950,8501f2a58a1f1300d4961789feaceaa0:1435774989</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_ui_policy_7401f2a5db1f13003d1dd001cf96199c</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="DELETE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions&gt;IO:6801f2a5db1f13003d1dd001cf96192a=u_change_account_expiry_date^EQ&lt;/catalog_conditions&gt;&lt;catalog_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;400&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Make Account Expiry Date Mandatory&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-14 16:33:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;7401f2a5db1f13003d1dd001cf96199c&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Make Account Expiry Date Mandatory&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_7401f2a5db1f13003d1dd001cf96199c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM_A&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-27 22:47:16&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>1508789022</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>c99bc2d8dba86740fe199236db9619d7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64a10000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Make Account Expiry Date Mandatory</target_name>
<type>Catalog UI Policy</type>
<update_domain>global</update_domain>
<update_guid>719228289690230047bfdac75667c19e</update_guid>
<update_guid_history>719228289690230047bfdac75667c19e:1508789022,6f8c6233d1cc6b005589b1bad185c815:968991122,fc01f2a5f01f1300ac0a58dffc17a69d:2079107545</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_include_c0cec8dedb4713003d1dd001cf96197b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.OCIO_SR_HelperUtils&lt;/api_name&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description&gt;OCIO SR Helper Utilities&amp;#13;
Copyright to BC Public Service, OCIO, Service Request Project&lt;/description&gt;&lt;name&gt;OCIO_SR_HelperUtils&lt;/name&gt;&lt;script&gt;&lt;![CDATA[/**
 * Helper Functions for Service Request Project
 * 
 * History
 * JIRA   Date         Developer       Description
 * -----  -----------  --------------  ------------------------
 * SB-256 10-July-2018  Munhwan Gim      Initial implementation 
 * SB-287 01-Aug-2018   Munhwan Gim      Get city from the user location field
 * SB-188 16-Aug-2018   Munhwan Gim      Implement a new function: ajaxFtn_formatPhoneByPattern)
 *
 * Copyright to BC Public Service - Service Request
 */
var OCIO_SR_HelperUtils = Class.create();
OCIO_SR_HelperUtils.prototype = Object.extendsObject(AbstractAjaxProcessor, {
	USER_TABLE_NAME: 'sys_user',
	SC_CATE_ITEM_TABLE_NAME: 'sc_cat_item',
	
	initialize : function(request, responseXML, gc) {
		AbstractAjaxProcessor.prototype.initialize.call(this, request, responseXML, gc);
	},
	
	// Compares date of "Valid to" from KB article with current date
	getDateComparison: function(){
		var dateToCheck = this.getParameter("sysparm_date_to_check");
		var gdt = new GlideDateTime();
		var dif = gs.dateDiff(dateToCheck, gdt.getDate(), true); //Get the Diff between dates.
		
		if (dif &lt;= 0)
			return false;
		else
			return true;
	},
	
	/**
	 * Return the formatted phone number to fit on Regular Expression Pattern
	 **/
	formatPhoneNumber: function(phoneOrg, regExPattern, includeExtension){
		
		var includeExtensionStr = includeExtension + '';
				 
		// Remove all non-digits, and format it	
		var phoneStripped = this._removeNonDigits(phoneOrg);
		var lengthPhone = phoneStripped.length;
	
		// allow 10 to 14 digits to reformat to (###) ###-#### or (###) ###-#### ext # to ####
		//var regExPhonePattern = /^[0-9]{10,14}$/;
		var regExPhonePattern = new RegExp(regExPattern, 'jg');
		var isValidPhoneLength = regExPhonePattern.test(phoneStripped);
						
		var phoneFormatted = '';
		var invalidMsg = '';
		
		if (isValidPhoneLength)
		{
			var area = phoneStripped.substring(0, 3);
			var prefix = phoneStripped.substring(3, 6);
			var line = phoneStripped.substring(6, 10);
			var extNumber = phoneStripped.substring(10, lengthPhone);

			if (lengthPhone == 10){				
				phoneFormatted = '(' + area + ') ' + prefix + '-' + line;
			} else {
				if (includeExtensionStr == 'true') {
					phoneFormatted = '(' + area + ') ' + prefix + '-' + line + ' ext ' + extNumber;
				} else {
					//invalidMsg = phoneOrg + ' is not valid.';
					invalidMsg = phoneOrg;
				}
			}
		}	
		else
		{
			invalidMsg = phoneOrg;
		}
		
		var phoneObj = {
			"phoneFormatted": phoneFormatted,
			"phoneOriginal": phoneOrg,
			"invalidMsg": invalidMsg
		};		
		
		return phoneObj;
	},
	
	/**
	 * Return the formatted phone number after stripping off all non-digits from the input, and applied the Reg Exp Pattern
	 **/
	ajaxFtn_formatPhoneByPattern: function() {
		var phoneOrg = this.getParameter('sysparm_phone');
		var includeExtension = this.getParameter('sysparm_include_phone_extension');
		var regExPattern = this.getParameter('sysparm_phone_number_regular_expression_pattern');
				
		// Conver to string to use string manupulation
		var phoneOrgString = phoneOrg+'';
		var phoneObj = this.formatPhoneNumber(phoneOrgString, regExPattern, includeExtension);

		return JSON.stringify(phoneObj);	
	},
	
	/**
	 * Return User by ID for Service Catalog Item - Update Contact Information
	 * param-1: user sys id
	 * param-2: sc item id
	 * return User object information
	 **/
	ajaxFtn_getUserItemById: function() {
				
		var srcSysId = this.getParameter('sysparm_src_sysid');
		var itemId = this.getParameter('sysparm_item_sysid');
		
        var companyId = '';
		var companyName = '';
		var sc_cat_item_name = '';
		
		var grItem = new GlideRecord(this.SC_CATE_ITEM_TABLE_NAME);
		grItem.addQuery('sys_id', itemId);
		grItem.setLimit(1);
		grItem.query();
		if (grItem.next()) {
			sc_cat_item_name = grItem.getValue('name');
		}
		else {
			gs.error('ajaxFtn_getUserItemById() - Invalid sc_cat_item sysid provided = ' + itemId);
		}		
		
		var grUser = new GlideRecord(this.USER_TABLE_NAME);
		grUser.addQuery('sys_id', srcSysId);
		grUser.setLimit(1);
		grUser.query();
		
		if (grUser.next()) {
			companyId = grUser.getValue('company');
		}
		else {
			gs.error('Invalid source user sysid provided = ' + srcSysId);
		}
		
		if (companyId != '') {
			companyName = this._getCompanyNameById(companyId);
		}		
		
		var cityLocation =  grUser.location.city.getDisplayValue();
		var bizPhoneObj = this._getPhoneValidationOnUser(grUser, 'phone', '^[0-9]{10,14}$', 'true');
		var mobilePhoneObj = this._getPhoneValidationOnUser(grUser, 'mobile_phone', '^[0-9]{10}$', 'false');
		var faxObj = this._getPhoneValidationOnUser(grUser, 'u_fax_number', '^[0-9]{10}$', 'false');
		var pagerObj = this._getPhoneValidationOnUser(grUser, 'u_pager_number', '^[0-9]{10}$', 'false');
	
		var obj = {
			"sc_cat_item_name": sc_cat_item_name,
			"username": this._getFieldValue(grUser, 'user_name'),
			"company": companyName,
			"title": this._getFieldValue(grUser, 'title'),
			"city": cityLocation,
			"street": this._getFieldValue(grUser, 'street'),
			"zip": this._getFieldValue(grUser, 'zip'),		
			"phone": bizPhoneObj.phoneFormatted,
			"bizPhoneInvalid": bizPhoneObj.phoneInvalid,
			"mobile_phone": mobilePhoneObj.phoneFormatted,
			"mobilePhoneInvalid": mobilePhoneObj.phoneInvalid,
			"u_ad_department": this._getFieldValue(grUser, 'u_ad_department'),
			"u_delivery_office": this._getFieldValue(grUser, 'u_delivery_office'),	
			"u_assistant": this._getFieldValue(grUser, 'u_assistant'),					 
			"u_fax_number": faxObj.phoneFormatted,	
			"faxNumberInvalid": faxObj.phoneInvalid,
			"u_pager": pagerObj.phoneFormatted,	
			"pagerInvalid": pagerObj.phoneInvalid,
		};

		return JSON.stringify(obj);		
	},
	
	/**
	 * Return User by ID for Service Catalog Item - Update Contact Information
	 * param: user sys id
	 * return User object information
	 **/
	ajaxFtn_getUserById: function() {
		var srcSysId = this.getParameter('sysparm_src_sysid');
        var companyId = '';
		var companyName = '';
		
		var grUser = new GlideRecord(this.USER_TABLE_NAME);
		grUser.addQuery('sys_id', srcSysId);
		grUser.setLimit(1);
		grUser.query();
		
		if (grUser.next()) {
			companyId = grUser.getValue('company');
		}
		else {
			gs.error('Invalid source user sysid provided = ' + srcSysId);
		}
		
		if (companyId != '') {
			companyName = this._getCompanyNameById(companyId);
		}		

		var uObj = {
			"username": this._getFieldValue(grUser, 'user_name'),
			"company": companyName,
			"title": this._getFieldValue(grUser, 'title'),
			"city": this._getFieldValue(grUser, 'city'),
			"street": this._getFieldValue(grUser, 'street'),
			"zip": this._getFieldValue(grUser, 'zip'),		
			"phone": this._getFieldValue(grUser, 'phone'),
			"mobile_phone": this._getFieldValue(grUser, 'mobile_phone'),	
			"u_ad_department": this._getFieldValue(grUser, 'u_ad_department'),
			"u_delivery_office": this._getFieldValue(grUser, 'u_delivery_office'),	
			"u_assitant": this._getFieldValue(grUser, 'u_assitant'),					 
			"u_fax_number": this._getFieldValue(grUser, 'u_fax_number'),					 				 
			"u_pager": this._getFieldValue(grUser, 'u_pager_number')
		};

		return JSON.stringify(uObj);					
	},
		
	_getPhoneValidationOnUser: function(grUser, fieldName, regEx, includeExtension) {		
		var phoneOrg = this._getFieldValue(grUser, fieldName);
		var phoneObj = this.formatPhoneNumber(phoneOrg, regEx, includeExtension);
		var phoneStr = phoneObj.phoneFormatted;
		if (phoneObj.invalidMsg != '') {
			phoneStr = '';
		}
		return {
			"phoneFormatted": phoneStr,
			"phoneOrigin": phoneOrg,
			"phoneInvalid": phoneObj.invalidMsg
		};
	},
	
	_removeNonDigits: function( inputStr ) {	
		var regExNumberOnly = new RegExp('[^0-9]', 'jg');
		return inputStr.replace(regExNumberOnly, '');
	},
	
	_getFieldValue: function( gr, valObj ) {	
		retVal = '';
		if (gr.getValue(valObj)) {
			retVal =  gr.getValue(valObj);
		}
		return retVal;
	},
	
	_getCompanyNameById: function(id) {
		var grCompany = new GlideRecord('core_company');
		grCompany.get(id);
		return grCompany.getDisplayValue();		
	},
	
    type: 'OCIO_SR_HelperUtils'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;James.Jose&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-07-04 02:26:48&lt;/sys_created_on&gt;&lt;sys_id&gt;c0cec8dedb4713003d1dd001cf96197b&lt;/sys_id&gt;&lt;sys_mod_count&gt;100&lt;/sys_mod_count&gt;&lt;sys_name&gt;OCIO_SR_HelperUtils&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_c0cec8dedb4713003d1dd001cf96197b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 21:01:38&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-572695493</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>cd9b8ad8dba86740fe199236db9619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64ab0000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>OCIO_SR_HelperUtils</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>7b87e8e855902300486b97bef1184d1a</update_guid>
<update_guid_history>7b87e8e855902300486b97bef1184d1a:-572695493,a43724e853902300c023fb9ceb9bf8bd:916734546,5be2fe60d9c023007269c29d37abfed2:-572695493,142ea2ec9f802300cb756bb17a7b031c:-1278237621,764d6aac2b802300c713f2c81eb9e37c:-480841137,41abe66c03802300fd759796ec238c67:1785569130,28eaee2cae802300bd6a0001ead9807c:1758754154,36e9262c8f802300a6f8fd0c27771b8f:1713145386,6058aee4f58023000379e9971511783b:-738359481,1ab2aee4b58023007feb178750f47e36:1952019352,3bc062e4d48023006ef1f70e2dd7acf1:-462977672,c620eea46e8023002672140c03af4bd4:1295286008,f60f9224198023001180d1edd723b7b9:-751243916,11dcda24358023002ec9b37e08597b39:148126506,dc0b922437802300b665a49fd3c179b0:-414797257,6db912e08b802300d9df4face4d31016:1679110679,55f5d6202380230039b9cba12925dc97:-464324186,1be3deec2240230073e67874715031e8:267333536,db621e6c5b4023003dab1c121ce07766:944749330,7f0e426c64402300a0a5b7ec6e40e188:1484427016,31f60228724023006b98feb3d188e7da:1504055524,34d646a44c402300b7f5c82333342a8d:618510710,d7b442648d402300f09b1b0842fbc0f0:-1546463603,5ca3ce249c4023008fd6ee35cb2fc44a:942253253,c87202240e402300b0e1c868c9a72a65:1506856519,85d14a24ad40230086932d3550b26b2a:1167874925,cb21cae048402300a25da10e8366a7f9:797138905,6de0c6e0224023006f1afa641c6a8a5c:-1407434306,42ef75e05340230069bbf4960b0da494:-1159611784,55ce7160fb402300194136be58329ef1:-1581772047,3a8e39a066402300ccea6be6ddd46947:1885719189,ba6d3920f6402300076ea1d536816017:-913415019,2c7a7decbd00230078d366a3c2888cf9:1580730042,31c74e14acc02300bb7d38793425fdcd:599964071,d4970a1455c0230094c79374e0fcfe6f:1328997807,a78ee910864023008e28b10b4f732bbb:599964071,d435cddc10002300eb1f166ec82cd353:711030516,1a82cd5cd8002300783ae281758769f8:-554292925,5222cd5c6b002300e2e6924b22ac0691:-509766186,91fefcd8ac0023004b65145d400df9dd:-554292925,700df498a8002300e799d8edc65b2616:-89504013,21aa705803002300452a97d2e157a3e7:906918710,ecb87054f6002300412be5d1ae0f35c3:-766324179,3556b45482002300575c45f88f44b512:-928786729,d2efbc08c6c02300f9e74b77f9885280:-923720914,371eb0c401c02300d7965efdd1ec9cb3:-1704572083,9feaf40450c023009f3d4878ca483338:914648938,77aafc04b7c02300edc594dc98d0d03a:-226249955,670ab80473c02300c756d67e02d3a912:-1446789925,d16974041fc02300225dc6161a6ca654:1732726996,580934044fc02300587c57a90835b76c:-1118500537,9668bcc0e0c023007c53b914ab3548f0:-708717250,0766308029c023005ccbfcb11b1deffc:1292928040,8406b84052c0230092a724381a472f55:752466453,612478409ac02300bcba8d3b9d98ef71:696808349,93f33840fbc023000681738ea1f41575:519024514,0542340075c0230005b5479f5e338d62:714793257,3e91f000a4c02300e98377af44720687:-280722182,fc81300088c02300e8068e0d80079e98:720742597,7a11784cb280230042652139eba556c6:-1831506097,a54038cc9d80230099308e3657e79e65:1462630539,f9fea48c8f802300369fc583f4d0a33c:-1393773696,14cda08c0e802300690fa1a0fae0a594:-1640949081,7d5da04cd98023007ec9af38fbb3fb57:1041526314,0efcecc83e80230024c6e77e3806db1a:1173176844,936ca00c9880230019b57cf2c821f997:188960080,229ae048428023005301cda904a31294:-1411167223,1f0a2c08298023002959113c3d57ddf4:1510832120,54d9a808e28023003b3c102eb174fd15:-710903578,f699e008be80230010139b450f0aa2b6:-142920584,8429a4c43f8023001e437d051cfc5a75:171162689,d0d8e4c47d80230000590f78d58f95aa:143745503,db48acc420802300f6e2de64ca44a20e:734924475,8d3760c4eb8023005cb2243f9ada3c20:-578358937,e0d620c470802300c1761a350e2da235:1461123753,63366084a580230008f0712dd1dc1d50:-120493695,80952c44068023008c4f3605b0ec22b6:21901716,817560843c80230095391a09ae134159:1493060708,02156c44ec802300b48e8662c30a6a3c:310417662,de132804b28023000f0882c3f973aa15:-451676528,9be2a4042c80230088cac9271def862e:-1161029622,30a26cc04b80230089157879f59e2786:-1425862541,ab62a4c08b802300d0b28640baafd00a:2042135795,0a422cc09f8023005627d5ac3265fe88:1145614730,b46f14803c802300145ad5f30e5fe8cf:7979501,29ce58000e8023006b891d6bae70170c:1746849911,4b6e540006802300381751a7aff5b5c7:815691619,07b8dcc846402300683cb2d3e60b5c58:1854542973,4b6b8004b040230065a9a0c784c4463f:-849903919,c37980044b40230007f5baa57288a58b:331375828,09b8c4c0334023006e6b89288406b1ff:678838829,af480004b84023000f2c376a166da3bf:-945500215,e1e7c0c02b402300e4492a6370945432:807507786,fa3780c0e4402300cf2741723dc9cfb9:1656197427,b7a600c08640230049a3584281abc596:-639777743,a3950400cb402300ca10d291b44df271:-1267498796,d8034888780023003a1d5a7c29b366cc:-1794168433,70c164a7ef231300f4a7418c7d11fffe:463390213,3856bfbafcd3d300077d06167c42c0b4:-1430609680,03f43b3a0ad3d300bb6cb28c81253d21:1478910624,44aa63763cd3d300ae770b1d10499f9c:-1430609680,e9d9e73681d3d30068ba1906550eadf4:817987940,e92acb9145d313000697bb9f9e6ee360:-1430609680,5bddb2ddfe9313000e6f9a8e16ef5de5:-14418166,cf5fc89eb647130078dfc21c3a7f4d29:833107445</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_0e13b13bdb0023007a74fe1b689619c1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="DELETE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/cat_item&gt;&lt;cat_variable&gt;IO:6801f2a5db1f13003d1dd001cf96192a&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;Set Visibility of Account Expiry Date&lt;/name&gt;&lt;order&gt;300&lt;/order&gt;&lt;script&gt;&lt;![CDATA[/**
 * Make 'Account Expiry Date' only for the case 'Change Account Expiry Date' selection on IWantTo...
 *
 * History
 * JIRA   Date         Developer       Description
 * -----  -----------  --------------  ------------------------
 * SB-649 27-Aug-2018  Munhwan Gim      Initial implementation  
 *
 * Copyright to BC Public Service, OCIO, Service Request Project 
 **/
function onChange(control, oldValue, newValue, isLoading) {
	if (isLoading || newValue == '') {
		return;
	}
/**
	//If for when they want to change the account expiry date
	if(newValue == 'u_change_account_expiry_date') {
		g_form.setVisible('u_account_expiry_date', true); 
		g_form.hideFieldMsg('u_account_expiry_date',true);
	}
	else {
		g_form.setVisible('u_account_expiry_date', false); 
	}
**/
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;MUNGIM&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-27 18:41:08&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;0e13b13bdb0023007a74fe1b689619c1&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;Set Visibility of Account Expiry Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_0e13b13bdb0023007a74fe1b689619c1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 22:09:22&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-919498331</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>cd9bc2d8dba86740fe199236db9619d5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64c10000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Set Visibility of Account Expiry Date</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>9d2ab4685ed02300a0ee13c7818632fb</update_guid>
<update_guid_history>9d2ab4685ed02300a0ee13c7818632fb:-919498331,3b0738e4e6d02300909655802ec305e1:1812159665,326430a4c4d023001a5977a0226e243a:1110875380,1e0c2c6cbe902300ca747c0b33664316:1904371479,3ad9e2b7ad80230011b67e0346ff1ae1:1066352622,0d1b7d7f2a002300a62fafcb5d012d80:-380834322,25f9353f3d0023006dc24e7a40371e7f:1142048040,6f28f5fb9500230023d170daff95a972:-1391679690,bae731fb5f002300b1cbac8e4681454b:-1154810710,d9173dbb72002300e682133f53ce597f:1538763938,eff671fb840023003326ef80955bd594:698780524,cc5671bbbe002300e4602fe6e5f942e8:-1565266185,1916fd7b690023000f1a008af7690ee0:-1237283142,f8a5757b9400230077304d2f6c8dccec:-1565266185,64e4317b6600230089585a0b4b0d92c5:1673662795,0ad4357b520023000ea44623ccc68cb7:1391044556,2174b13b8d0023009e7f34dde575dedd:1879207613,9e34f93b1300230095c7289dfdf683d6:1954732072</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_70e26c28db9023007a74fe1b6896193e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;true&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;true&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Change Account"&gt;d401be25db1f13003d1dd001cf9619a2&lt;/cat_item&gt;&lt;cat_variable&gt;IO:e001f2a5db1f13003d1dd001cf96193b&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;messages/&gt;&lt;name&gt;Validate Account Expiry Date&lt;/name&gt;&lt;order&gt;300&lt;/order&gt;&lt;script&gt;&lt;![CDATA[/**
 * Validate Expiry Date not to set in Past
 * 
 * History
 * JIRA   Date         Developer       Description
 * -----  -----------  --------------  ------------------------
 * SB### 11-July-2018  Munhwan Gim      Initial implementation 
 * SB-## 25-July-2018  Munhwan Gim      Fix the defect to show the validate msg more than once
 * SB-649 25-July-2018  Munhwan Gim     Fix defect
 * Copyright to BC Public Service - Service Request
 **/
function onChange(control, oldValue, newValue, isLoading) {
	
	if (isLoading || newValue == '' || newValue == oldValue) {
		return;
	}

	var expiry_date = newValue;
	
	var ga = new GlideAjax("OCIO_SR_HelperUtils");
	ga.addParam("sysparm_name", "getDateComparison");
	ga.addParam("sysparm_date_to_check", expiry_date);
	ga.getXML(cbIsPast);
	
	function cbIsPast(response) {          
				
		var isInPast = response.responseXML.documentElement.getAttribute("answer");
		
		// Hide existing msg first to avoid to display more than once per control
		g_form.hideFieldMsg("u_account_expiry_date", true);
		
		var msg = 'Date must not be in the past. ' + expiry_date;
		if(isInPast == "true"){
			g_form.showFieldMsg('u_account_expiry_date', msg, "error", false); 
		}
	}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;MUNGIM&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-08-29 20:43:26&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;70e26c28db9023007a74fe1b6896193e&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Validate Account Expiry Date&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_70e26c28db9023007a74fe1b6896193e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;MUNGIM&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2018-08-29 22:36:34&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>771307272</payload_hash>
<remote_update_set display_value="OCIO SR 2018 09 10 a">899bc2d8dba86740fe199236db9619d5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>JAJOSE</sys_created_by>
<sys_created_on>2018-09-10 19:55:51</sys_created_on>
<sys_id>cd9bc2d8dba86740fe199236db9619d6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>165ad2c64c60000001</sys_recorded_at>
<sys_updated_by>JAJOSE</sys_updated_by>
<sys_updated_on>2018-09-10 19:55:51</sys_updated_on>
<table/>
<target_name>Validate Account Expiry Date</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>9a4d78e843d02300117d572aba00cef5</update_guid>
<update_guid_history>9a4d78e843d02300117d572aba00cef5:771307272,093abce4c9d02300dfa7c3bd133b7b06:-1702104446,18f070a053d0230066df3ebad046695e:-307894367,acff6860a1d023000ad2b1191bcfba80:-992759161,c7cfe8a03fd0230018d58642f9f67fe6:-34181984,8c1ea82052d02300f70c0aa0758b1526:2035511010,d55d202033d023001a6e15ff72b03ef7:1480161791,3fdca02092d023007eac27ba59f7143b:-814040235,1a2c2c6cd69023009c70506a57f7e31c:98274274,9ee32868989023003d6f52106b81d502:-12998920,116368281e902300c99b15887bc542c9:477989754</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
